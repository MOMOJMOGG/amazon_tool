<!DOCTYPE html>
<html>
<head>
    <title>Amazon Product Monitoring API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui.css" />
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body {
            margin:0;
            background: #fafafa;
        }
        .info {
            margin: 20px auto;
            max-width: 1200px;
            padding: 20px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>ðŸ“š Amazon Product Monitoring Tool - API Documentation</h1>
        <p><strong>Version:</strong> 1.0.0</p>
        <p><strong>Description:</strong> FastAPI backend for Amazon product tracking and competitive analysis</p>
        <p><strong>Generated:</strong> Offline documentation (no server required)</p>
    </div>
    
    <div id="swagger-ui"></div>
    
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-standalone-preset.js"></script>
    <script>
        window.onload = function() {
            const ui = SwaggerUIBundle({
                spec: {
  "openapi": "3.1.0",
  "info": {
    "title": "Amazon Product Monitoring Tool",
    "description": "FastAPI backend for Amazon product tracking and competitive analysis",
    "version": "1.0.0"
  },
  "paths": {
    "/v1/products/{asin}": {
      "get": {
        "tags": [
          "products"
        ],
        "summary": "Get Product",
        "description": "Get product by ASIN with caching.\n\nUses cache-first strategy with SWR (Stale-While-Revalidate) pattern:\n- Cache hit (fresh): Return cached data immediately\n- Cache hit (stale): Return stale data immediately + refresh in background\n- Cache miss: Fetch from DB and cache",
        "operationId": "get_product_v1_products__asin__get",
        "parameters": [
          {
            "name": "asin",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Asin"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/batch": {
      "post": {
        "tags": [
          "products"
        ],
        "summary": "Get Products Batch",
        "description": "Get multiple products by ASINs in a single request.\n\nEfficiently fetches up to 50 products with caching support.\nUses batch database queries for optimal performance.",
        "operationId": "get_products_batch_v1_products_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchProductRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchProductResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/products/": {
      "get": {
        "tags": [
          "products"
        ],
        "summary": "List products endpoint placeholder",
        "description": "Placeholder for list products endpoint (M2+ feature).",
        "operationId": "list_products_v1_products__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Get Metrics",
        "description": "Prometheus metrics endpoint.\nReturns metrics in Prometheus format.",
        "operationId": "get_metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/etl/jobs/trigger": {
      "post": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Trigger Etl Job",
        "description": "Trigger an ETL job manually.",
        "operationId": "trigger_etl_job_v1_etl_jobs_trigger_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TriggerJobRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/jobs/{job_id}": {
      "get": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Get Job Status",
        "description": "Get ETL job execution status.",
        "operationId": "get_job_status_v1_etl_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobExecutionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/jobs": {
      "get": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "List Recent Jobs",
        "description": "List recent ETL job executions.",
        "operationId": "list_recent_jobs_v1_etl_jobs_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/JobExecutionResponse"
                  },
                  "title": "Response List Recent Jobs V1 Etl Jobs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/events/ingest": {
      "post": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Ingest Raw Event",
        "description": "Manually ingest a raw product event.",
        "operationId": "ingest_raw_event_v1_etl_events_ingest_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RawProductEventCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Ingest Raw Event V1 Etl Events Ingest Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/events/process/{job_id}": {
      "post": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Process Job Events",
        "description": "Process raw events for a specific job.",
        "operationId": "process_job_events_v1_etl_events_process__job_id__post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Process Job Events V1 Etl Events Process  Job Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/mart/refresh": {
      "post": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Refresh Mart Layer",
        "description": "Manually refresh the mart layer.",
        "operationId": "refresh_mart_layer_v1_etl_mart_refresh_post",
        "parameters": [
          {
            "name": "target_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Target Date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Refresh Mart Layer V1 Etl Mart Refresh Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/alerts": {
      "get": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Get Active Alerts",
        "description": "Get active price/BSR alerts.",
        "operationId": "get_active_alerts_v1_etl_alerts_get",
        "parameters": [
          {
            "name": "asin",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by ASIN",
              "title": "Asin"
            },
            "description": "Filter by ASIN"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "description": "Maximum alerts to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum alerts to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PriceAlertResponse"
                  },
                  "title": "Response Get Active Alerts V1 Etl Alerts Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/alerts/{alert_id}/resolve": {
      "post": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Resolve Alert",
        "description": "Resolve a specific alert.",
        "operationId": "resolve_alert_v1_etl_alerts__alert_id__resolve_post",
        "parameters": [
          {
            "name": "alert_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Alert Id"
            }
          },
          {
            "name": "resolved_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "api_user",
              "title": "Resolved By"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Resolve Alert V1 Etl Alerts  Alert Id  Resolve Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/alerts/summary": {
      "get": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Get Alerts Summary",
        "description": "Get alert summary statistics.",
        "operationId": "get_alerts_summary_v1_etl_alerts_summary_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 30,
              "minimum": 1,
              "default": 7,
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Alerts Summary V1 Etl Alerts Summary Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/etl/stats": {
      "get": {
        "tags": [
          "ETL Pipeline"
        ],
        "summary": "Get Etl Stats",
        "description": "Get ETL pipeline statistics and health.",
        "operationId": "get_etl_stats_v1_etl_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Etl Stats V1 Etl Stats Get"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/setup": {
      "post": {
        "tags": [
          "competitions"
        ],
        "summary": "Setup Competitors",
        "description": "Setup competitor relationships for a main product.\nCreates competitor links that will be used for daily comparison calculations.",
        "operationId": "setup_competitors_v1_competitions_setup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompetitorLinkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompetitorLinkResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/links/{asin_main}": {
      "get": {
        "tags": [
          "competitions"
        ],
        "summary": "Get Competitor Links",
        "description": "Get all competitor ASINs linked to a main product.",
        "operationId": "get_competitor_links_v1_competitions_links__asin_main__get",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "title": "Response Get Competitor Links V1 Competitions Links  Asin Main  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "competitions"
        ],
        "summary": "Remove Competitor Links",
        "description": "Remove competitor links. If no specific ASINs provided, removes all links.",
        "operationId": "remove_competitor_links_v1_competitions_links__asin_main__delete",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          },
          {
            "name": "competitor_asins",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific competitor ASINs to remove",
              "title": "Competitor Asins"
            },
            "description": "Specific competitor ASINs to remove"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/{asin_main}": {
      "get": {
        "tags": [
          "competitions"
        ],
        "summary": "Get Competition Data",
        "description": "Get competition analysis data for a main product.\nReturns comparison metrics against all linked competitors for the specified time period.",
        "operationId": "get_competition_data_v1_competitions__asin_main__get",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          },
          {
            "name": "days_back",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "description": "Number of days to look back",
              "default": 30,
              "title": "Days Back"
            },
            "description": "Number of days to look back"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompetitionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/{asin_main}/history": {
      "get": {
        "tags": [
          "competitions"
        ],
        "summary": "Get Competition History",
        "description": "Get detailed competition history with time-series data.\nReturns all comparison records for the time period, optionally filtered by competitor.",
        "operationId": "get_competition_history_v1_competitions__asin_main__history_get",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          },
          {
            "name": "days_back",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "description": "Number of days to look back",
              "default": 30,
              "title": "Days Back"
            },
            "description": "Number of days to look back"
          },
          {
            "name": "competitor_asin",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific competitor ASIN to filter by",
              "title": "Competitor Asin"
            },
            "description": "Specific competitor ASIN to filter by"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/{asin_main}/report": {
      "get": {
        "tags": [
          "competitions"
        ],
        "summary": "Get Competition Report",
        "description": "Get competition analysis report for a product.\nReturns the latest or specified version of the LLM-generated competitive analysis.",
        "operationId": "get_competition_report_v1_competitions__asin_main__report_get",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          },
          {
            "name": "version",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Report version to retrieve",
              "default": "latest",
              "title": "Version"
            },
            "description": "Report version to retrieve"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompetitionReportSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/{asin_main}/report:refresh": {
      "post": {
        "tags": [
          "competitions"
        ],
        "summary": "Refresh Competition Report",
        "description": "Trigger competition report generation for a product.\nQueues a background task to generate a new LLM-powered competitive analysis report.",
        "operationId": "refresh_competition_report_v1_competitions__asin_main__report_refresh_post",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          },
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force regeneration even if recent report exists",
              "default": false,
              "title": "Force"
            },
            "description": "Force regeneration even if recent report exists"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/competitions/{asin_main}/report/versions": {
      "get": {
        "tags": [
          "competitions"
        ],
        "summary": "List Report Versions",
        "description": "List all available report versions for a product.\nReturns version history with metadata.",
        "operationId": "list_report_versions_v1_competitions__asin_main__report_versions_get",
        "parameters": [
          {
            "name": "asin_main",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Main product ASIN",
              "title": "Asin Main"
            },
            "description": "Main product ASIN"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of versions to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of versions to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BatchProductItem": {
        "properties": {
          "asin": {
            "type": "string",
            "title": "Asin"
          },
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProductWithMetrics"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "cached": {
            "type": "boolean",
            "title": "Cached",
            "default": false
          },
          "stale_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stale At"
          }
        },
        "type": "object",
        "required": [
          "asin",
          "success"
        ],
        "title": "BatchProductItem",
        "description": "Individual product item in batch response."
      },
      "BatchProductRequest": {
        "properties": {
          "asins": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 1,
            "title": "Asins",
            "description": "List of ASINs to fetch"
          }
        },
        "type": "object",
        "required": [
          "asins"
        ],
        "title": "BatchProductRequest",
        "description": "Batch product request model."
      },
      "BatchProductResponse": {
        "properties": {
          "total_requested": {
            "type": "integer",
            "title": "Total Requested"
          },
          "total_success": {
            "type": "integer",
            "title": "Total Success"
          },
          "total_failed": {
            "type": "integer",
            "title": "Total Failed"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/BatchProductItem"
            },
            "type": "array",
            "title": "Items"
          },
          "processed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Processed At"
          }
        },
        "type": "object",
        "required": [
          "total_requested",
          "total_success",
          "total_failed",
          "items"
        ],
        "title": "BatchProductResponse",
        "description": "Batch product response model."
      },
      "CompetitionData": {
        "properties": {
          "asin_main": {
            "type": "string",
            "title": "Asin Main",
            "description": "Main product ASIN"
          },
          "date_range": {
            "type": "string",
            "title": "Date Range",
            "description": "Date range for analysis"
          },
          "peers": {
            "items": {
              "$ref": "#/components/schemas/PeerGap"
            },
            "type": "array",
            "title": "Peers",
            "description": "Competitor comparison data"
          }
        },
        "type": "object",
        "required": [
          "asin_main",
          "date_range",
          "peers"
        ],
        "title": "CompetitionData",
        "description": "Competition analysis data for a date range."
      },
      "CompetitionReportSummary": {
        "properties": {
          "asin_main": {
            "type": "string",
            "title": "Asin Main"
          },
          "version": {
            "type": "integer",
            "title": "Version"
          },
          "summary": {
            "type": "object",
            "title": "Summary",
            "description": "Report summary data"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          }
        },
        "type": "object",
        "required": [
          "asin_main",
          "version",
          "summary",
          "generated_at"
        ],
        "title": "CompetitionReportSummary",
        "description": "Competition report summary."
      },
      "CompetitionResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/CompetitionData"
          },
          "cached": {
            "type": "boolean",
            "title": "Cached",
            "description": "Whether data was served from cache"
          },
          "stale_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stale At",
            "description": "When cached data becomes stale"
          }
        },
        "type": "object",
        "required": [
          "data",
          "cached"
        ],
        "title": "CompetitionResponse",
        "description": "Competition API response model."
      },
      "CompetitorLinkRequest": {
        "properties": {
          "asin_main": {
            "type": "string",
            "title": "Asin Main",
            "description": "Main product ASIN"
          },
          "competitor_asins": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Competitor Asins",
            "description": "List of competitor ASINs"
          }
        },
        "type": "object",
        "required": [
          "asin_main",
          "competitor_asins"
        ],
        "title": "CompetitorLinkRequest",
        "description": "Request model for setting up competitor relationships."
      },
      "CompetitorLinkResponse": {
        "properties": {
          "asin_main": {
            "type": "string",
            "title": "Asin Main"
          },
          "competitor_asins": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Competitor Asins"
          },
          "created_count": {
            "type": "integer",
            "title": "Created Count",
            "description": "Number of new competitor links created"
          }
        },
        "type": "object",
        "required": [
          "asin_main",
          "competitor_asins",
          "created_count"
        ],
        "title": "CompetitorLinkResponse",
        "description": "Response model for competitor link operations."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "JobExecutionResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "job_name": {
            "type": "string",
            "title": "Job Name"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "records_processed": {
            "type": "integer",
            "title": "Records Processed"
          },
          "records_failed": {
            "type": "integer",
            "title": "Records Failed"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "job_name",
          "status",
          "started_at",
          "completed_at",
          "records_processed",
          "records_failed",
          "error_message",
          "created_at"
        ],
        "title": "JobExecutionResponse",
        "description": "Job execution API response model."
      },
      "JobStatus": {
        "type": "string",
        "enum": [
          "pending",
          "running",
          "completed",
          "failed",
          "retrying"
        ],
        "title": "JobStatus",
        "description": "Job execution status."
      },
      "JobStatusResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "message"
        ],
        "title": "JobStatusResponse",
        "description": "ETL job status response."
      },
      "PeerGap": {
        "properties": {
          "asin": {
            "type": "string",
            "title": "Asin",
            "description": "Competitor ASIN"
          },
          "price_diff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Diff",
            "description": "Price difference (main - competitor)"
          },
          "bsr_gap": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bsr Gap",
            "description": "BSR gap (main - competitor)"
          },
          "rating_diff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Diff",
            "description": "Rating difference (main - competitor)"
          },
          "reviews_gap": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviews Gap",
            "description": "Reviews count gap (main - competitor)"
          },
          "buybox_diff": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buybox Diff",
            "description": "Buybox price difference (main - competitor)"
          }
        },
        "type": "object",
        "required": [
          "asin"
        ],
        "title": "PeerGap",
        "description": "Individual competitor gap data."
      },
      "PriceAlertResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "asin": {
            "type": "string",
            "title": "Asin"
          },
          "alert_type": {
            "type": "string",
            "title": "Alert Type"
          },
          "severity": {
            "type": "string",
            "title": "Severity"
          },
          "current_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Value"
          },
          "previous_value": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Value"
          },
          "change_percent": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change Percent"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "is_resolved": {
            "type": "string",
            "title": "Is Resolved"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "asin",
          "alert_type",
          "severity",
          "current_value",
          "previous_value",
          "change_percent",
          "message",
          "is_resolved",
          "created_at"
        ],
        "title": "PriceAlertResponse",
        "description": "Price alert API response model."
      },
      "ProductResponse": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ProductWithMetrics"
          },
          "cached": {
            "type": "boolean",
            "title": "Cached",
            "description": "Whether data was served from cache"
          },
          "stale_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stale At",
            "description": "When cached data becomes stale"
          }
        },
        "type": "object",
        "required": [
          "data",
          "cached"
        ],
        "title": "ProductResponse",
        "description": "Product API response model."
      },
      "ProductWithMetrics": {
        "properties": {
          "asin": {
            "type": "string",
            "title": "Asin",
            "description": "Amazon Standard Identification Number"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Product title"
          },
          "brand": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand",
            "description": "Product brand"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Product category"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "Product image URL"
          },
          "latest_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Price",
            "description": "Latest price"
          },
          "latest_bsr": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Bsr",
            "description": "Latest BSR rank"
          },
          "latest_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Rating",
            "description": "Latest rating"
          },
          "latest_reviews_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Reviews Count",
            "description": "Latest review count"
          },
          "latest_buybox_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Buybox Price",
            "description": "Latest buybox price"
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated",
            "description": "Last metrics update"
          }
        },
        "type": "object",
        "required": [
          "asin",
          "title"
        ],
        "title": "ProductWithMetrics",
        "description": "Product model with latest metrics."
      },
      "RawProductEventCreate": {
        "properties": {
          "asin": {
            "type": "string",
            "title": "Asin",
            "description": "Amazon ASIN"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Data source identifier"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type",
            "description": "Event type"
          },
          "raw_data": {
            "type": "object",
            "title": "Raw Data",
            "description": "Raw JSON data from source"
          },
          "job_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id",
            "description": "Associated job ID"
          }
        },
        "type": "object",
        "required": [
          "asin",
          "source",
          "event_type",
          "raw_data"
        ],
        "title": "RawProductEventCreate",
        "description": "Model for creating raw product events."
      },
      "TriggerJobRequest": {
        "properties": {
          "job_name": {
            "type": "string",
            "title": "Job Name",
            "description": "Job name to execute"
          },
          "target_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Date",
            "description": "Target date (YYYY-MM-DD)"
          },
          "job_metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Metadata",
            "description": "Additional job metadata"
          }
        },
        "type": "object",
        "required": [
          "job_name"
        ],
        "title": "TriggerJobRequest",
        "description": "Request to trigger an ETL job."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
},
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout"
            });
        };
    </script>
</body>
</html>